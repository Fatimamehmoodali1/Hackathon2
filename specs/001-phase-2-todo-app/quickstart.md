# Quick Start: Phase II Full-Stack Todo Application

**Date**: 2026-01-04
**Feature**: Phase II - Full-Stack Todo Application
**Status**: Ready for Implementation

---

## Prerequisites

| Tool | Version | Purpose |
|------|---------|---------|
| Python | 3.11+ | Backend runtime |
| Node.js | 18+ | Frontend runtime |
| PostgreSQL | 14+ | Database (via Neon) |
| Git | 2.0+ | Version control |

---

## Environment Setup

### 1. Clone and Navigate

```bash
git clone <repository-url>
cd evolution-of-todo
cd specs/001-phase-2-todo-app
```

### 2. Backend Setup

```bash
# Navigate to backend
cd ../../backend

# Create virtual environment
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Configure environment
cp .env.example .env
# Edit .env and set:
#   DATABASE_URL=postgresql://user:password@host/database
#   BETTER_AUTH_SECRET=your-secret-key

# Initialize database
alembic upgrade head

# Start development server
uvicorn app.main:app --reload --port 8000
```

**Backend will be available at**: http://localhost:8000
**API Documentation**: http://localhost:8000/docs

### 3. Frontend Setup

```bash
# Navigate to frontend (new terminal)
cd ../../frontend

# Install dependencies
npm install

# Configure environment
cp .env.example .env.local
# Edit .env.local and set:
#   NEXT_PUBLIC_API_URL=http://localhost:8000

# Start development server
npm run dev
```

**Frontend will be available at**: http://localhost:3000

---

## Development Workflow

### Running Tests

**Backend Tests**:
```bash
cd backend
pytest tests/ -v
```

**Frontend Tests**:
```bash
cd frontend
npm test
```

**End-to-End Tests**:
```bash
cd frontend
npm run test:e2e
```

### Code Quality

**Backend Linting**:
```bash
cd backend
ruff check .
black --check .
mypy .
```

**Frontend Linting**:
```bash
cd frontend
npm run lint
```

---

## Project Structure Reference

```
evolution-of-todo/
├── backend/
│   ├── src/
│   │   ├── models/         # SQLModel entities
│   │   ├── services/       # Business logic
│   │   ├── api/            # FastAPI routes
│   │   ├── schemas/        # Pydantic DTOs
│   │   └── core/           # Config, auth, db
│   ├── tests/
│   │   ├── unit/
│   │   └── integration/
│   └── requirements.txt
├── frontend/
│   ├── src/
│   │   ├── app/            # Next.js pages
│   │   ├── components/     # UI components
│   │   └── lib/            # API client, auth
│   └── tests/
│       └── e2e/
└── specs/001-phase-2-todo-app/
    ├── plan.md             # This plan
    ├── research.md         # Research findings
    ├── data-model.md       # Database design
    ├── quickstart.md       # This file
    ├── contracts/          # API contracts
    │   ├── auth.yaml
    │   └── todos.yaml
    └── tasks.md            # (generated by /sp.tasks)
```

---

## Key Commands Reference

### Backend

| Command | Description |
|---------|-------------|
| `uvicorn app.main:app --reload` | Start dev server |
| `pytest tests/ -v` | Run tests |
| `alembic upgrade head` | Run migrations |
| `ruff check .` | Lint code |
| `black --check .` | Check formatting |

### Frontend

| Command | Description |
|---------|-------------|
| `npm run dev` | Start dev server |
| `npm test` | Run unit tests |
| `npm run test:e2e` | Run E2E tests |
| `npm run lint` | Lint code |
| `npm run build` | Production build |

---

## Environment Variables

### Backend (.env)

| Variable | Required | Description |
|----------|----------|-------------|
| `DATABASE_URL` | Yes | PostgreSQL connection string |
| `BETTER_AUTH_SECRET` | Yes | Auth secret key (generate random) |
| `CORS_ORIGINS` | No | Comma-separated allowed origins |
| `DEBUG` | No | Enable debug mode (true/false) |

### Frontend (.env.local)

| Variable | Required | Description |
|----------|----------|-------------|
| `NEXT_PUBLIC_API_URL` | Yes | Backend API base URL |

---

## Verification Checklist

After setup, verify the following:

- [ ] Backend starts without errors at http://localhost:8000
- [ ] API docs accessible at http://localhost:8000/docs
- [ ] Frontend starts without errors at http://localhost:3000
- [ ] Signup page renders correctly
- [ ] Signin page renders correctly
- [ ] Can create a test user account
- [ ] Can sign in with test user
- [ ] Can create a todo
- [ ] Can see todo in list
- [ ] Can toggle todo completion
- [ ] Can edit todo title
- [ ] Can delete todo
- [ ] Tests pass locally

---

## Common Issues

### Database Connection Failed

**Symptom**: `could not connect to server: Connection refused`

**Solution**:
1. Verify Neon database is active
2. Check `DATABASE_URL` format
3. Ensure IP is allowlisted in Neon settings

### CORS Errors

**Symptom**: `Access to fetch has been blocked by CORS policy`

**Solution**:
1. Add frontend origin to `CORS_ORIGINS` in backend .env
2. Restart backend server

### Session Not Persisting

**Symptom**: Redirected to signin after page refresh

**Solution**:
1. Check cookies are enabled in browser
2. Verify `httpOnly` cookie is being set
3. Check frontend is sending credentials: `include`

---

## Next Steps

1. Run through Verification Checklist
2. Proceed to `/sp.tasks` for implementation tasks
3. Implement backend following `data-model.md` and `contracts/`
4. Implement frontend following `plan.md`
5. Write tests for each component
6. Verify all success criteria from specification
